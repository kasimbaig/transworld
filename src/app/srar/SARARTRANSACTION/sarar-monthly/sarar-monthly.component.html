<div class="container mx-auto p-6">
    <!-- Header -->
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-2">SRAR <span class="text-yellow-600">Monthly</span></h2>
       
    </div>

    <!-- Dropdown Filters -->
    <div class=" rounded-lg  p-6 mb-4 border border-amber-200 bg-slate-300 text-blue-500">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <!-- Unit Dropdown -->
            <!-- Top Filter Section -->
<div class="flex items-center gap-4">
    <label class="text-sm font-bold  w-20 flex-shrink-0">Unit :</label>
    <p-dropdown 
        [options]="unitOptions" 
        [(ngModel)]="selectedUnit"
        placeholder="--Select Unit--"
        optionLabel="name"
        [filter]="true"
        filterBy="name"
        (onChange)="onUnitChange()"
        styleClass="flex-1">
    </p-dropdown>
  </div>
  
  <div class="flex items-center gap-4">
    <label class="text-sm font-bold  w-20 flex-shrink-0">Ship Name :</label>
    <p-dropdown 
        [options]="shipOptions" 
        [(ngModel)]="selectedShip"
        placeholder="--Select Ship--"
        optionLabel="name"
        [filter]="true"
        filterBy="name"
        (onChange)="onShipChange()"
        styleClass="flex-1"
        [disabled]="!selectedUnit">
    </p-dropdown>
  </div>
  
            <div class="flex items-center justify-end">

                <button class="px-4 py-2 bg-blue-50 text-blue-400 rounded hover:bg-blue-100 transition-colors duration-200 border-2 border-blue-300" (click)="onSearch()">
                    <strong>  <i class="pi pi-search"></i>
                    Search</strong>
                </button>
            </div>
                    

         
        </div>
       
    </div>

    <!-- Reusable Table -->
    <div>
        <app-resuable-table
            [gridColumns]="tableColumns"
            [filteredData]="tableData"
            [uploadDataName]="'Upload'"
            [generateReportName]="'Generate'"
            [Approve]="'Print'"
            [isPaginator]="true"
            [isShearchDisable]="'T'"
            [isCheckBox]="false"
            [isAction]="true"
            [isAdd]="true"
            [isView]="true"
            [isEditable]="true"
            (addEvent)="openDialog(); crudName='Add'"
            (viewEvent)="onView($event)"
            (editEvent)="onEdit($event)"
            (approveEvent)="onPrint($event)">
        </app-resuable-table>
    </div>
  

</div>
<!-- Dialog for SFD Reference Form -->
<p-dialog  [header]=" crudName+ ' Monthly SRAR'"   [(visible)]="displayDialog" [modal]="true" [responsive]="true" [style]="{width: '50vw', height:'60vh'}" [baseZIndex]="10000" [draggable]="false" [maximizable]="true" [resizable]="true">

    <div class="p-6 bg-slate-300 shadow-md border border-slate-200  h-full mx-auto">
        <!-- Dropdown Filters -->
    <div class=" rounded-lg  p-6 mb-4 border border-slate-200 bg-slate-300  text-blue-500">
        <form [formGroup]="sararMasterForm">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Unit Dropdown -->
            <div class="flex items-center gap-4">
                <label class="text-sm font-bold  w-20 flex-shrink-0">Unit Type :</label>
                <p-dropdown 
                    [options]="unitOptions" 
                    formControlName="unit_type"
                    placeholder="--Select Unit--"
                    optionLabel="name"
                    [filter]="true"
                    filterBy="name"
                    (onChange)="onUnitChange()"
                    styleClass="flex-1">
                </p-dropdown>
              </div>
              
              <div class="flex items-center gap-4">
                <label class="text-sm font-bold  w-20 flex-shrink-0">Ship Name :</label>
                <p-dropdown 
                    [options]="shipOptions" 
                    formControlName="ship_name"
                    placeholder="--Select Ship--"
                    optionLabel="name"
                    [filter]="true"
                    filterBy="name"
                    styleClass="flex-1"
                    [disabled]="!sararMasterForm.get('unit_type')?.value">
                </p-dropdown>
              </div>
            <div class="flex items-center gap-4">
                <label class="text-sm font-bold  w-20 flex-shrink-0">Month :</label>
                <p-dropdown 
                    [options]="monthOptions" 
                    formControlName="month"
                    placeholder="--Select Month--"
                    optionLabel="name"
                    [filter]="true"
                    filterBy="name"
                    styleClass="flex-1">
                </p-dropdown>
            </div>
            <div class="flex items-center gap-4">
                <label class="text-sm font-bold  w-20 flex-shrink-0">Year :</label>
                <p-dropdown 
                    [options]="yearOptions" 
                    formControlName="year"
                    placeholder="--Select Year--"
                    optionLabel="name"
                    [filter]="true"
                    filterBy="name"
                    
                   
                    styleClass="flex-1">
                </p-dropdown>
            </div>
            <div class="flex items-center justify-end col-span-2">

                <button class="px-4 py-2 bg-blue-50 text-blue-500 rounded hover:bg-blue-100 transition-colors duration-200 border-2 border-blue-300" (click)="submit()">
                    <strong> Next <i class="pi pi-arrow-right"></i>
                    </strong>
                </button>
            </div>
                    

         
        </div>
        </form>
    </div>
    </div>

</p-dialog>
<!-- Custom Fullscreen Modal using Tailwind CSS -->
<div  *ngIf="openFullScreenSararMonthly"  class="fixed inset-0 z-[99999] flex items-center justify-center bg-black bg-opacity-60">
    <div class="relative w-screen h-screen bg-white shadow-lg flex flex-col overflow-auto">
        <!-- Header -->
        <div class="flex items-center justify-between p-2 border-b bg-blue-900 text-white">
            <p class="text-2xl font-bold text-white">SRAR Monthly Add</p>
            <button  class="text-white hover:text-gray-200 text-2xl font-bold focus:outline-none" (click)="openFullScreenSararMonthly = false" aria-label="Close">
                <i class="pi pi-times"></i>
            </button>
        </div>
        <!-- Content -->
        <div class="flex-1 overflow-auto bg-slate-300">
            <app-sub-component-monthly></app-sub-component-monthly>
        </div>
    </div>
</div>



