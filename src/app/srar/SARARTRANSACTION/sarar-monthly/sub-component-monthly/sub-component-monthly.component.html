<div class="w-full bg-slate-300 shadow-xs px-4 pb-2 h-screen overflow-hidden">
  <!-- Fixed Container with Horizontal Scrolling Tabs -->
  <div class="bg-slate-300 rounded-lg p-2 h-24">
    <div class="overflow-x-auto scrollbar-hide h-full">
      <div class="flex space-x-2 min-w-max h-full items-center">
        <ng-container *ngFor="let operation of Operation; let i = index">
          <div class="relative flex-shrink-0">
            <!-- Tab Button -->
            <div 
              (click)="openOperation(operation)" 
              class="flex items-center px-3 py-2 cursor-pointer transition-all duration-300 rounded-lg border-2 min-w-[180px]"
              [ngClass]="{
                'bg-red-100 border-red-300 shadow-md': activeOperation.id === operation.id,
                'bg-blue-100 border-blue-200 hover:bg-blue-200': activeOperation.id !== operation.id && i === 1,
                'bg-green-100 border-green-200 hover:bg-green-200': activeOperation.id !== operation.id && i === 2,
                'bg-purple-100 border-purple-200 hover:bg-purple-200': activeOperation.id !== operation.id && i === 3,
                'bg-teal-100 border-teal-200 hover:bg-teal-200': activeOperation.id !== operation.id && i === 4,
                'bg-pink-100 border-pink-200 hover:bg-pink-200': activeOperation.id !== operation.id && i === 5,
                'bg-indigo-100 border-indigo-200 hover:bg-indigo-200': activeOperation.id !== operation.id && i === 6,
                'bg-orange-100 border-orange-200 hover:bg-orange-200': activeOperation.id !== operation.id && i === 7,
                'bg-cyan-100 border-cyan-200 hover:bg-cyan-200': activeOperation.id !== operation.id && i === 8,
                'bg-emerald-100 border-emerald-200 hover:bg-emerald-200': activeOperation.id !== operation.id && i === 9,
                'bg-violet-100 border-violet-200 hover:bg-violet-200': activeOperation.id !== operation.id && i === 10,
                'bg-amber-100 border-amber-200 hover:bg-amber-200': activeOperation.id !== operation.id && i === 11,
                'bg-rose-100 border-rose-200 hover:bg-rose-200': activeOperation.id !== operation.id && i === 12,
                'bg-lime-100 border-lime-200 hover:bg-lime-200': activeOperation.id !== operation.id && i === 13,
                'bg-sky-100 border-sky-200 hover:bg-sky-200': activeOperation.id !== operation.id && i === 14,
                'bg-fuchsia-100 border-fuchsia-200 hover:bg-fuchsia-200': activeOperation.id !== operation.id && i === 15,
                'bg-slate-100 border-slate-200 hover:bg-slate-200': activeOperation.id !== operation.id && i === 16,
                'bg-stone-100 border-stone-200 hover:bg-stone-200': activeOperation.id !== operation.id && i === 17
              }">
              
              <!-- Number Circle -->
              <span 
                class="inline-flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold mr-2 border-2"
                [ngClass]="{
                  'bg-red-500 text-white border-red-600': activeOperation.id === operation.id,
                  'bg-blue-500 text-white border-blue-600': activeOperation.id !== operation.id && i === 1,
                  'bg-green-500 text-white border-green-600': activeOperation.id !== operation.id && i === 2,
                  'bg-purple-500 text-white border-purple-600': activeOperation.id !== operation.id && i === 3,
                  'bg-teal-500 text-white border-teal-600': activeOperation.id !== operation.id && i === 4,
                  'bg-pink-500 text-white border-pink-600': activeOperation.id !== operation.id && i === 5,
                  'bg-indigo-500 text-white border-indigo-600': activeOperation.id !== operation.id && i === 6,
                  'bg-orange-500 text-white border-orange-600': activeOperation.id !== operation.id && i === 7,
                  'bg-cyan-500 text-white border-cyan-600': activeOperation.id !== operation.id && i === 8,
                  'bg-emerald-500 text-white border-emerald-600': activeOperation.id !== operation.id && i === 9,
                  'bg-violet-500 text-white border-violet-600': activeOperation.id !== operation.id && i === 10,
                  'bg-amber-500 text-white border-amber-600': activeOperation.id !== operation.id && i === 11,
                  'bg-rose-500 text-white border-rose-600': activeOperation.id !== operation.id && i === 12,
                  'bg-lime-500 text-white border-lime-600': activeOperation.id !== operation.id && i === 13,
                  'bg-sky-500 text-white border-sky-600': activeOperation.id !== operation.id && i === 14,
                  'bg-fuchsia-500 text-white border-fuchsia-600': activeOperation.id !== operation.id && i === 15,
                  'bg-slate-500 text-white border-slate-600': activeOperation.id !== operation.id && i === 16,
                  'bg-stone-500 text-white border-stone-600': activeOperation.id !== operation.id && i === 17
                }">
                {{ i + 1 }}
              </span>
              
              <!-- Icon and Text -->
              <div class="flex items-center space-x-1">
                <i 
                  [class]="'fas ' + operation.icon + ' text-sm'"
                  [ngClass]="{
                    'text-red-600': activeOperation.id === operation.id,
                    'text-blue-600': activeOperation.id !== operation.id && i === 1,
                    'text-green-600': activeOperation.id !== operation.id && i === 2,
                    'text-purple-600': activeOperation.id !== operation.id && i === 3,
                    'text-teal-600': activeOperation.id !== operation.id && i === 4,
                    'text-pink-600': activeOperation.id !== operation.id && i === 5,
                    'text-indigo-600': activeOperation.id !== operation.id && i === 6,
                    'text-orange-600': activeOperation.id !== operation.id && i === 7,
                    'text-cyan-600': activeOperation.id !== operation.id && i === 8,
                    'text-emerald-600': activeOperation.id !== operation.id && i === 9,
                    'text-violet-600': activeOperation.id !== operation.id && i === 10,
                    'text-amber-600': activeOperation.id !== operation.id && i === 11,
                    'text-rose-600': activeOperation.id !== operation.id && i === 12,
                    'text-lime-600': activeOperation.id !== operation.id && i === 13,
                    'text-sky-600': activeOperation.id !== operation.id && i === 14,
                    'text-fuchsia-600': activeOperation.id !== operation.id && i === 15,
                    'text-slate-600': activeOperation.id !== operation.id && i === 16,
                    'text-stone-600': activeOperation.id !== operation.id && i === 17
                  }">
                </i>
                <span 
                  class="text-xs font-semibold whitespace-nowrap"
                  [ngClass]="{
                    'text-red-800': activeOperation.id === operation.id,
                    'text-blue-800': activeOperation.id !== operation.id && i === 1,
                    'text-green-800': activeOperation.id !== operation.id && i === 2,
                    'text-purple-800': activeOperation.id !== operation.id && i === 3,
                    'text-teal-800': activeOperation.id !== operation.id && i === 4,
                    'text-pink-800': activeOperation.id !== operation.id && i === 5,
                    'text-indigo-800': activeOperation.id !== operation.id && i === 6,
                    'text-orange-800': activeOperation.id !== operation.id && i === 7,
                    'text-cyan-800': activeOperation.id !== operation.id && i === 8,
                    'text-emerald-800': activeOperation.id !== operation.id && i === 9,
                    'text-violet-800': activeOperation.id !== operation.id && i === 10,
                    'text-amber-800': activeOperation.id !== operation.id && i === 11,
                    'text-rose-800': activeOperation.id !== operation.id && i === 12,
                    'text-lime-800': activeOperation.id !== operation.id && i === 13,
                    'text-sky-800': activeOperation.id !== operation.id && i === 14,
                    'text-fuchsia-800': activeOperation.id !== operation.id && i === 15,
                    'text-slate-800': activeOperation.id !== operation.id && i === 16,
                    'text-stone-800': activeOperation.id !== operation.id && i === 17
                  }">
                  {{ operation.name }}
                </span>
              </div>
            </div>
            
            <!-- Progress Indicator (Double Chevron Down) -->
            <div 
              class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 text-center"
              *ngIf="activeOperation.id === operation.id">
              <i class="fa-solid fa-angles-down text-blue-600 text-sm animate-bounce"></i>
              <!-- Progress Bar -->
              <div class="mt-1 w-20 h-1 bg-blue-200 rounded-full overflow-hidden">
                <div class="h-full bg-blue-600 rounded-full animate-pulse" style="width: 60%;"></div>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </div>

  <!-- Only load the active component -->
  <div class="h-[calc(100vh-180px)] rounded-lg shadow-sm p-4 mt-2 bg-slate-300 overflow-y-auto">
    <ng-container [ngSwitch]="activeOperation.id">
      <app-ship-running-detail 
        [srarEquipmentData]="srarEquipmentData" 
        *ngSwitchCase="1">
      </app-ship-running-detail>
      
      <app-boiler-steaming-detail 
        [srarEquipmentData]="srarEquipmentData" 
        *ngSwitchCase="2">
      </app-boiler-steaming-detail>
      
      <app-ship-activity 
        *ngSwitchCase="3">
      </app-ship-activity>
      
      <app-fuel-avcat-torsionmeter 
        *ngSwitchCase="4">
      </app-fuel-avcat-torsionmeter>
      
      <app-iccp-h2s-sensor-mffs 
        [srarEquipmentData]="srarEquipmentData" 
        [srarLocationsData]="srarLocationsData" 
        *ngSwitchCase="5">
      </app-iccp-h2s-sensor-mffs>
      
      <app-test-kits-centrifuge 
        [srarEquipmentData]="srarEquipmentData" 
        *ngSwitchCase="6">
      </app-test-kits-centrifuge>
      
      <app-diesel-engine-sdc 
        [srarEquipmentData]="srarEquipmentData" 
        *ngSwitchCase="7">
      </app-diesel-engine-sdc>
      
      <app-dguf 
        [srarEquipmentData]="srarEquipmentData" 
        *ngSwitchCase="8">
      </app-dguf>
      
      <app-full-power-trials 
        [srarEquipmentData]="srarEquipmentData" 
        *ngSwitchCase="9">
      </app-full-power-trials>
      
      <app-g-t-parameter 
        *ngSwitchCase="10">
      </app-g-t-parameter>
      
      <app-gt-rg-exploitation 
        [srarEquipmentData]="srarEquipmentData" 
        *ngSwitchCase="11">
      </app-gt-rg-exploitation>
      
      <app-gtg-exploitation 
        [srarEquipmentData]="srarEquipmentData" 
        *ngSwitchCase="12">
      </app-gtg-exploitation>
      
      <app-gtg-parameter 
        *ngSwitchCase="13">
      </app-gtg-parameter>
      
      <app-lubricant-consumption 
        *ngSwitchCase="14">
      </app-lubricant-consumption>
      
      <app-r-h-extension 
        [srarEquipmentData]="srarEquipmentData" 
        *ngSwitchCase="15">
      </app-r-h-extension>
      
      <app-eo-remark 
        *ngSwitchCase="16">
      </app-eo-remark>
      
      <app-equipment-next-roution-due 
        [srarEquipmentData]="srarEquipmentData" 
        *ngSwitchCase="17">
      </app-equipment-next-roution-due>
      
      <app-final-page 
        [srarEquipmentData]="srarEquipmentData" 
        *ngSwitchCase="18">
      </app-final-page>
      
      <!-- Loading state -->
      <div *ngSwitchDefault class="text-center py-8">
        <i class="pi pi-spin pi-spinner text-2xl text-blue-500"></i>
        <p class="text-gray-600 mt-2">Loading component...</p>
      </div>
    </ng-container>
  </div>

</div>


<p-toast />

