<div class="p-4">
    <!-- Header Section -->
    <div class="mb-2 text-center">
        <h3 class="text-lg font-semibold text-green-700">Engine - <span class=" text-orange-500">Exploitation Factor </span> </h3>
    </div>

    <div class="flex justify-end mb-3 gap-2">
        <button (click)="addEef()"
            class="bg-green-50 border-green-500 border-2 hover:bg-green-500 hover:text-white text-green-500 px-4 py-2 rounded font-semibold">
            <i class="pi pi-plus"></i> <span class="ml-2 text-lg">Add</span>
        </button>
        <button (click)="editEef()"
            class="bg-yellow-50 border-yellow-500 border-2 hover:bg-yellow-500 hover:text-white text-yellow-500 px-4 py-2 rounded font-semibold">
            <i class="pi pi-pencil"></i> <span class="ml-2 text-lg">Edit</span>
        </button>
        <button (click)="saveEef()"
            class="bg-blue-50 border-blue-500 border-2 hover:bg-blue-500 hover:text-white text-blue-500 px-4 py-2 rounded font-semibold">
            <i class="pi pi-save"></i> <span class="ml-2 text-lg">Save</span>
        </button>
    </div>

    <div class="mb-6">
        <div class="bg-blue-950 text-white p-2 font-semibold">
            24. EEF(Total R/H of All Main Engines Hours/Underway)
        </div>

        <div class="overflow-x-auto">
            <table class="w-full border-collapse border border-gray-400 ">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="border border-gray-400 p-2 text-center" >Designed</th>
                        <th class="border border-gray-400 p-2 text-center" >Actual</th>
                        <th class="border border-gray-400 p-2 text-center" >Reason for Exceeding EEF</th>
                    </tr>
                </thead>

                <tbody>
                    <ng-container *ngFor="let item of eefData; let i = index">
                        <tr class="bg-white">
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="number" step="0.01"
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.designed" placeholder="0.00">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="number" step="0.01"
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.actual" placeholder="0.00">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <select [disabled]="isEdit" class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.reason_for_exceeding">
                                    <option value="">Select Reason</option>
                                    <option value="operational_requirements">Operational Requirements</option>
                                    <option value="weather_conditions">Weather Conditions</option>
                                    <option value="mission_critical">Mission Critical</option>
                                    <option value="emergency_situation">Emergency Situation</option>
                                    <option value="maintenance_delay">Maintenance Delay</option>
                                    <option value="other">Other</option>
                                </select>
                            </td>
                        </tr>
                    </ng-container>
                    <tr *ngIf="eefData.length === 0">
                        <td colspan="3" class="px-4 py-8 text-center text-gray-500 border border-gray-400">
                            No EEF data available
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="mt-6">
            <label class="block text-sm font-medium text-gray-700 mb-2">
                Ship Remark <span class="text-red-500">*</span>
            </label>
            <textarea 
                [disabled]="isEdit"
                class="w-full border border-gray-300 rounded px-3 py-2 min-h-32 resize-vertical bg-gray-50"
                placeholder="Enter ship remarks here..."
                rows="4"
                [(ngModel)]="shipRemarks">
            </textarea>
        </div>

        <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-4">
            <div class="text-red-700 font-semibold mb-2">Note:- Please fill the Ship Remarks Compulsory. Do not leave blank.</div>
            <ol class="text-red-600 text-sm list-decimal list-inside space-y-1">
                <li>Operational availability of machinery / Equipments with reason for low performance.</li>
                <li>Reason for higher fuel consumption.</li>
                <li>Restrictions / limitations / major refit / repair undertaken / running hour extensions accorded by competent authorities.</li>
                <li>Endorsement of all major ship's activities.</li>
                <li>Performance trials conducted</li>
                <li>Inclusion of all OPDEFs raised by the ship with qualifying remarks.</li>
            </ol>
        </div>
    </div>
</div>