<div class="p-4">
    <!-- Header -->
    <div class="flex justify-between items-center">
        <div class="flex justify-end w-3/4">
            <h3 class="text-lg font-semibold text-green-700">Ship Running <span class=" text-orange-500">and Activity Return</span> </h3>

        </div>
        <!-- Summary Information Card -->
            <div class="text-end flex flex-col gap-0 w-1/3">
                <p class="text-sm font-semibold text-gray-800">For the Month of : <span class="text-blue-600">{{headerData?.month?.name}}</span></p>
                <p class="text-sm font-semibold text-gray-800">Ship : <span class="text-blue-600">{{headerData?.ship_name?.name}}</span></p>
                <p class="text-sm font-semibold text-gray-800">Unit Types : <span class="text-blue-600">{{headerData?.unit_type?.name }}</span></p>
                <p class="text-sm font-semibold text-gray-800">Year : <span class="text-blue-600">{{headerData?.year?.name}}</span></p>
            </div>
    </div>


    <div class="mb-6 mt-6">
        
        <h3 class="text-lg font-semibold text-green-700 text-center">Ship - <span class=" text-orange-500">Running Details </span> </h3>

        <!-- Action Buttons -->
        <div class="flex justify-end mb-3 gap-2">
          
            <!-- <button (click)="editShipRunning()"
                class="bg-yellow-50 border-yellow-500 border-2 hover:bg-yellow-500 hover:text-white text-yellow-500 px-4 py-2 rounded font-semibold">
                <i class="pi pi-pencil"></i> <span class="ml-2 text-lg">Edit</span>
            </button> -->
            <button (click)="saveShipRunning()"
                class="bg-blue-50 border-blue-500 border-2 hover:bg-blue-500 hover:text-white text-blue-500 px-4 py-2 rounded font-semibold">
                <i class="pi pi-save"></i> <span class="ml-2 text-lg">Save</span>
            </button>
        </div>

        <div class="overflow-x-auto mt-5">
            <table class="w-full border-collapse border border-gray-400">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="border border-gray-400 p-2 text-center" colspan="2">During The Month</th>
                        <th class="border border-gray-400 p-2 text-center" colspan="2">Since Commissioning</th>
                        <th class="border border-gray-400 p-2 text-center" colspan="2">Maximum Sustained Speed</th>
                    </tr>
                    <tr class="bg-gray-50">
                        <th class="border border-gray-400 p-2 text-center">Hours Underway(hh:mm)</th>
                        <th class="border border-gray-400 p-2 text-center">Distance Run</th>
                        <th class="border border-gray-400 p-2 text-center">Hours Underway(hh:mm)</th>
                        <th class="border border-gray-400 p-2 text-center">Distance Run</th>
                        <th class="border border-gray-400 p-2 text-center">During Month (IN KT)</th>
                        <th class="border border-gray-400 p-2 text-center">Duration (IN HRS)</th>
                    </tr>
                </thead>

                <tbody>
                    <ng-container>
                        <tr class="bg-white">
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="text"
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.hours_underway_month" placeholder="0:00">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="text"
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.distance_run_month" placeholder="0.00">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="text"
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.hours_underway_since_commissioning" placeholder="0:00">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="text"
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.distance_run_since_commissioning" placeholder="0.00">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="text"
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.max_speed" placeholder="0:00">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="float"
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.max_duration" placeholder="0.00">
                            </td>
                        </tr>
                    </ng-container>
                   
                </tbody>
            </table>
        </div>
    </div>


    <div class="mb-6 mt-6">
        <h3 class="text-lg font-semibold text-green-700 text-center">Equipment - <span class=" text-orange-500">Exploitation Details </span> </h3>

        <!-- Equipment Dropdown and Action Buttons -->
        <div class="flex justify-between items-center mb-3 gap-2">
            <!-- Equipment Dropdown -->
            <div class="flex gap-4 items-center">
                <div class="flex items-center gap-2">
                    <label class="text-sm font-medium text-gray-700">Equipment:</label>
                    <p-multiSelect *ngIf="srarEquipmentData.length > 0"
                        [options]="srarEquipmentData"
                        optionLabel="equipment_name"
                        [filter]="true"
                        filterBy="equipment_name"
                        placeholder="Select Equipment"
                        class="w-48"
                        display="chip"
                        [(ngModel)]="selectedEquipment">
                    </p-multiSelect>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex gap-2">
                <button (click)="addEquipmentExploitation()"
                    class="bg-green-50 border-green-500 border-2 hover:bg-green-500 hover:text-white text-green-500 px-4 py-2 rounded font-semibold">
                    <i class="pi pi-plus"></i> <span class="ml-2 text-lg">Add</span>
                </button>
                <button (click)="editEquipmentExploitation()"
                    class="bg-yellow-50 border-yellow-500 border-2 hover:bg-yellow-500 hover:text-white text-yellow-500 px-4 py-2 rounded font-semibold">
                    <i class="pi pi-pencil"></i> <span class="ml-2 text-lg">Edit</span>
                </button>
                <button (click)="saveEquipmentExploitation()"
                    class="bg-blue-50 border-blue-500 border-2 hover:bg-blue-500 hover:text-white text-blue-500 px-4 py-2 rounded font-semibold">
                    <i class="pi pi-save"></i> <span class="ml-2 text-lg">Save</span>
                </button>
            </div>
        </div>

        <div class="overflow-x-auto mt-5">
            <table class="w-full border-collapse border border-gray-400">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="border border-gray-400 p-2 text-center">Eqpt Name</th>
                        <th class="border border-gray-400 p-2 text-center">Eqpt Code</th>
                        <th class="border border-gray-400 p-2 text-center">Loc On Board</th>
                        <th class="border border-gray-400 p-2 text-center">Nomenclature</th>
                        <th class="border border-gray-400 p-2 text-center">Ser No.</th>
                        <th class="border border-gray-400 p-2 text-center">Hrs For Month</th>
                        <th class="border border-gray-400 p-2 text-center">Hrs Since Installation</th>
                    </tr>
                </thead>

                <tbody>
                    <ng-container *ngFor="let item of equipmentExploitationData; let i = index">
                        <tr class="bg-white">
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="text" 
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.equipment_name" placeholder="Equipment Name">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="text" 
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.equipment_code" placeholder="Equipment Code">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="text" 
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.location" placeholder="Location">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="text" 
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.nomenclature" placeholder="Nomenclature">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="text" 
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.serial_no" placeholder="Serial Number">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="number" step="0.01"
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.hours_for_a_month" placeholder="0.00">
                            </td>
                            <td class="border border-gray-400 p-2 text-center">
                                <input [disabled]="isEdit" pInputText type="number" step="0.01"
                                    class="w-full border border-gray-300 rounded px-2 py-1 min-w-48"
                                    [(ngModel)]="item.hours_from_installation" placeholder="0.00">
                            </td>
                        </tr>
                    </ng-container>
                    <tr *ngIf="equipmentExploitationData.length === 0">
                        <td colspan="7" class="px-4 py-8 text-center text-gray-500 border border-gray-400">
                            No equipment exploitation data available
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    </div>
