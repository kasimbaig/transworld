<div class="p-4">
    <!-- Header Section -->
    <div class="mb-2 text-center">
        <h3 class="text-lg font-semibold text-green-700">Running Hours - <span class=" text-orange-500">Extension Trial</span> </h3>
    </div>

    <div class="mb-6">

        <div class="flex justify-between items-center mb-3 gap-2">
            <!-- Equipment Filter -->
            <div class="flex gap-4 items-center">
                <div class="flex items-center gap-2">
                    <label class="text-sm font-medium text-gray-700">Equipment:</label>
                    <p-multiSelect *ngIf="srarEquipmentData.length > 0"
                        [options]="srarEquipmentData"
                        optionLabel="equipment_name"
                        [filter]="true"
                        filterBy="equipment_name"
                        placeholder="Select Equipment"
                        class="w-48"
                        display="chip"
                        [(ngModel)]="selectedMainEngineEquipment">
                    </p-multiSelect>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex gap-2">
                <button (click)="addMainEngine()"
                    class="bg-green-50 border-green-500 border-2 hover:bg-green-500 hover:text-white text-green-500 px-4 py-2 rounded font-semibold">
                    <i class="pi pi-plus"></i> <span class="ml-2 text-lg">Add</span>
                </button>
                <button (click)="editMainEngine()"
                    class="bg-yellow-50 border-yellow-500 border-2 hover:bg-yellow-500 hover:text-white text-yellow-500 px-4 py-2 rounded font-semibold">
                    <i class="pi pi-pencil"></i> <span class="ml-2 text-lg">Edit</span>
                </button>
                <button (click)="saveMainEngine()"
                    class="bg-blue-50 border-blue-500 border-2 hover:bg-blue-500 hover:text-white text-blue-500 px-4 py-2 rounded font-semibold">
                    <i class="pi pi-save"></i> <span class="ml-2 text-lg">Save</span>
                </button>
            </div>
        </div>

        <div class="bg-blue-950 text-white p-2 font-semibold">
            24. Main Engine
        </div>

        <div class="overflow-x-auto">
            <table class="w-full border-collapse border border-gray-400 ">
                <thead>
                    <tr class="bg-gray-600 text-white">
                        <th class="border border-gray-400 p-2 text-center" >Eqpt Ship ID</th>
                        <th class="border border-gray-400 p-2 text-center" >Eqpt Name</th>
                        <th class="border border-gray-400 p-2 text-center" >Nomenclature</th>
                        <th class="border border-gray-400 p-2 text-center" >Loc On Board</th>
                        <th class="border border-gray-400 p-2 text-center" >Ser No</th>
                        <th class="border border-gray-400 p-2 text-center" >On Routine</th>
                        <th class="border border-gray-400 p-2 text-center" >R/H at conduct of Ext. Trial by DTTT/TT</th>
                        <th class="border border-gray-400 p-2 text-center" >Authority latter for Grant of Extension</th>
                        <th class="border border-gray-400 p-2 text-center" >R/H Extension Granted upto</th>
                        <th class="border border-gray-400 p-2 text-center" >R/H Left for expiry of Extension</th>
                        <th class="border border-gray-400 p-2 text-center" >Action</th>
                     
                    </tr>
                    
                </thead>

                <tbody>
                    <tr class="bg-white" *ngFor="let item of mainEngineData; let i = index">
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditMainEngine" pInputText type="text" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.ship_name" placeholder="Ship Name">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditMainEngine" pInputText type="text" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.equipment_name" placeholder="Equipment Name">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditMainEngine" pInputText type="text" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.nomenclature" placeholder="Nomenclature">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditMainEngine" pInputText type="text" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.location_name" placeholder="Location">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditMainEngine" pInputText type="text" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.equipment_sr_no" placeholder="Serial Number">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <select [disabled]="isEditMainEngine" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.on_routine">
                                <option value="">Select Option</option>
                                <option *ngFor="let option of onRoutineOptions" [value]="option.value">{{ option.name }}</option>
                            </select>
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditMainEngine" pInputText type="number" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.rh_ext_at_conduct_of_ext_trial" placeholder="R/H at conduct of Ext. Trial">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditMainEngine" pInputText type="text" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.authority_letter_for_extension_trial" placeholder="Authority letter">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditMainEngine" pInputText type="number" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.rh_extension_granted_upto" placeholder="Extension Granted upto">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditMainEngine" pInputText type="number" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.rh_left_for_expiry_of_extension" placeholder="R/H Left for expiry">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <button 
                                class="bg-red-50 border-red-500 border hover:bg-red-500 hover:text-white text-red-500 px-2 py-1 rounded text-sm"
                                (click)="deleteMainEngine(i)">
                                <i class="pi pi-trash"></i> Delete
                            </button>
                        </td>
                    </tr>
                    <tr *ngIf="mainEngineData.length === 0">
                        <td colspan="11" class="px-4 py-8 text-center text-gray-500 border border-gray-400">
                            No main engine data available
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>


    </div>
    <div class="mb-6">

        <div class="flex justify-between items-center mb-3 gap-2">
            <!-- Equipment Filter -->
            <div class="flex gap-4 items-center">
                <div class="flex items-center gap-2">
                    <label class="text-sm font-medium text-gray-700">Equipment:</label>
                    <p-multiSelect *ngIf="srarEquipmentData.length > 0"
                        [options]="srarEquipmentData"
                        optionLabel="equipment_name"
                        [filter]="true"
                        filterBy="equipment_name"
                        placeholder="Select Equipment"
                        class="w-48"
                        display="chip"
                        [(ngModel)]="selectedDieselAlternatorEquipment">
                    </p-multiSelect>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex gap-2">
                <button (click)="addDieselAlternator()"
                    class="bg-green-50 border-green-500 border-2 hover:bg-green-500 hover:text-white text-green-500 px-4 py-2 rounded font-semibold">
                    <i class="pi pi-plus"></i> <span class="ml-2 text-lg">Add</span>
                </button>
                <button (click)="editDieselAlternator()"
                    class="bg-yellow-50 border-yellow-500 border-2 hover:bg-yellow-500 hover:text-white text-yellow-500 px-4 py-2 rounded font-semibold">
                    <i class="pi pi-pencil"></i> <span class="ml-2 text-lg">Edit</span>
                </button>
                <button (click)="saveDieselAlternator()"
                    class="bg-blue-50 border-blue-500 border-2 hover:bg-blue-500 hover:text-white text-blue-500 px-4 py-2 rounded font-semibold">
                    <i class="pi pi-save"></i> <span class="ml-2 text-lg">Save</span>
                </button>
            </div>
        </div>
        
        <div class="bg-blue-950 text-white p-2 font-semibold">
            25. Diesel Alternator
        </div>

        <div class="overflow-x-auto">
            <table class="w-full border-collapse border border-gray-400 ">
                <thead>
                    <tr class="bg-gray-600 text-white">
                        <th class="border border-gray-400 p-2 text-center" >Eqpt Ship ID</th>
                        <th class="border border-gray-400 p-2 text-center" >Eqpt Name</th>
                        <th class="border border-gray-400 p-2 text-center" >Nomenclature</th>
                        <th class="border border-gray-400 p-2 text-center" >Loc On Board</th>
                        <th class="border border-gray-400 p-2 text-center" >Ser No</th>
                        <th class="border border-gray-400 p-2 text-center" >On Routine</th>
                        <th class="border border-gray-400 p-2 text-center" >R/H at conduct of Ext. Trial by DTTT/TT</th>
                        <th class="border border-gray-400 p-2 text-center" >Authority latter for Grant of Extension</th>
                        <th class="border border-gray-400 p-2 text-center" >R/H Extension Granted upto</th>
                        <th class="border border-gray-400 p-2 text-center" >R/H Left for expiry of Extension</th>
                        <th class="border border-gray-400 p-2 text-center" >Action</th>
                     
                    </tr>
                    
                </thead>

                <tbody>
                    <tr class="bg-white" *ngFor="let item of dieselAlternatorData; let i = index">
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditDieselAlternator" pInputText type="text" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.ship_name" placeholder="Ship Name">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditDieselAlternator" pInputText type="text" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.equipment_name" placeholder="Equipment Name">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditDieselAlternator" pInputText type="text" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.nomenclature" placeholder="Nomenclature">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditDieselAlternator" pInputText type="text" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.location_name" placeholder="Location">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditDieselAlternator" pInputText type="text" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.equipment_sr_no" placeholder="Serial Number">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <select [disabled]="isEditDieselAlternator" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.on_routine">
                                <option value="">Select Option</option>
                                <option *ngFor="let option of onRoutineOptions" [value]="option.value">{{ option.name }}</option>
                            </select>
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditDieselAlternator" pInputText type="number" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.rh_ext_at_conduct_of_ext_trial" placeholder="R/H at conduct of Ext. Trial">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditDieselAlternator" pInputText type="text" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.authority_letter_for_extension_trial" placeholder="Authority letter">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditDieselAlternator" pInputText type="number" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.rh_extension_granted_upto" placeholder="Extension Granted upto">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <input [disabled]="isEditDieselAlternator" pInputText type="number" class="w-full min-w-56 border border-gray-400 p-2 text-center" [(ngModel)]="item.rh_left_for_expiry_of_extension" placeholder="R/H Left for expiry">
                        </td>
                        <td class="border border-gray-400 p-2 text-center">
                            <button 
                                class="bg-red-50 border-red-500 border hover:bg-red-500 hover:text-white text-red-500 px-2 py-1 rounded text-sm"
                                (click)="deleteDieselAlternator(i)">
                                <i class="pi pi-trash"></i> Delete
                            </button>
                        </td>
                    </tr>
                    <tr *ngIf="dieselAlternatorData.length === 0">
                        <td colspan="11" class="px-4 py-8 text-center text-gray-500 border border-gray-400">
                            No diesel alternator data available
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>


    </div>
</div>