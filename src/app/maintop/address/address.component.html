<div >
  <div class="command-header">
    <div class="command-title-block">
      <i class="fa-solid fa-map-marker-alt"></i>
      <div>
        <h2>Addresses</h2>
        <p>View & manage address information and contacts</p>
      </div>
    </div>
    <div class="command-actions">
      <button class="btn outlined" (click)="resetFilters()">
        <i class="pi pi-filter-slash"></i>
        Reset
      </button>
      <button class="btn outlined" (click)="exportMenu.toggle($event)">
        <i class="pi pi-file"></i>
        Export <i class="pi pi-chevron-down"></i>
      </button>
      <button class="btn primary" (click)="toggleForm(true)">
        <i class="pi pi-plus"></i>
        ADD
      </button>
      <p-tieredMenu #exportMenu [model]="exportOptions" popup appendTo="body"></p-tieredMenu>
    </div>
  </div>



  <app-paginated-table
    [data]="maintopAddressee"
    [columns]="cols"
    [showEndActions]="true"
    (viewEvent)="viewDetails($event, true)"
    (editEvent)="editDetails($event, true)"
    (deleteEvent)="deleteDetails($event)"
  ></app-paginated-table>
</div>

<app-add-form
  *ngIf="isFormOpen"
  [open]="isFormOpen"
  [formConfig]="formConfigForNewDetails"
  [formData]="newDetails"
  [fromTitle]="title"
  (onOpenChange)="isFormOpen = $event"
  (onSubmit)="handleSubmit($event)"
></app-add-form>
<app-add-form
  *ngIf="isEditFormOpen"
  [open]="isEditFormOpen"
  [formConfig]="formConfigForNewDetails"
  [formData]="selectedDetails"
  [fromTitle]="editTitle"
  [isEditMode]="true"
  (onOpenChange)="isEditFormOpen = $event"
  (onSubmit)="handleEditSubmit($event)"
></app-add-form>
<app-toast></app-toast>
<app-confirm-dialog
  *ngIf="showConfirmDialog"
  [message]="'Do you really want to delete this Addressee?'"
  (confirm)="onConfirmDelete($event)"
></app-confirm-dialog>
<app-view-details
  *ngIf="isViewDetailsOpen"
  [open]="isViewDetailsOpen"
  [viewDetails]="selectedDetails"
  [headers]="formConfigForNewDetails"
  (onOpenChange)="isViewDetailsOpen = $event"
  [title]="viewDetialsTitle"
></app-view-details>
